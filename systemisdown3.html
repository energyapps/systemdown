<html>
<head>
<title>US Department of Energy - Maintenance </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link href='http://fonts.googleapis.com/css?family=Lato:400,700,300,900' rel='stylesheet' type='text/css'>  
<style type="text/css">
	html, body, div, span {
		margin: 0;
		padding: 0;
		border: 0;
		font-size: 100%;
		font: inherit;
		vertical-align: baseline;
    font-family: 'Lato', Arial, Helvetica, sans-serif;
	}
	body {
		line-height: 1;
	}
  div {
    width: 100%;
  }
  #H1 {
    position: relative;
    height: 90px;
    background-color:rgb(140,205,0)    
  }
  #H2 {
    height: 38px;
    background-color: rgb(103,177,0)
  }
  #H1 img {
    position: absolute;
    bottom: 13px;
    left: 11px;
  }
  #W, #vid2 {
    margin: 0 auto;
    width: 60%;
    min-width: 300px;
    text-align: center;
    font-weight: 400;
  }
  #vid2 {
    width: 100%;
  }
  #W h1 {
    font-weight: 300;
    font-size: 40px;
    margin: 0px;
    padding: 25px;
  }
  #F {    
    background-color:rgb(140,205,0);
    height: 73px;
    /*width:100%;*/
    float: left;
    position: relative;
  }
  #F2 {    
    height: 75px;
    width:100%;
    background-color: rgb(108,185,0);
    float: left;
    position: relative;
  }
  #H1 h1, #F h1, #F h2 {
    font-weight: 900;
    color: #fff;
    font-size: 38px;
    text-shadow: 1px 1px 1px #ccc;
    text-shadow: 1px 1px 1px rgba(0,0,0,0.2);
    position: absolute;
    bottom: 10px;
    left: 50px;
    margin: 0px;
  }
  #F h2 {
    font-size: 12px;
    letter-spacing: 1px;    
    top: 14px;
    left: 74px;
    position: absolute;
  }

  #F h1 {
    position: absolute;
    left: 72px;
  }
  #F img {
    position: relative;
    top: 12px;
    left: 12px;
  }

  #F2 h2 {
    text-shadow: none;
    color: #fff;
    margin-left: 15px;
    margin-top: 15px;
    font-weight: 400;
    font-size: 13px;
    line-height: 120%;
  }

#vid2 {
  height: 600px;
}
  
svg {
  z-index: -1;
  position: absolute;
  top: 128px;
  left: 0px;
}
</style>

</head>
<body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
      <button onclick="clk()">click</button>

  <div id="CT">
    <div id="H1">
      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAMAAAAocOYLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUJDN0Y4RTQzODk3MTFFNUJGMjFCQzIwOTk3OTMzQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUJDN0Y4RTUzODk3MTFFNUJGMjFCQzIwOTk3OTMzQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QkM3RjhFMjM4OTcxMUU1QkYyMUJDMjA5OTc5MzNBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QkM3RjhFMzM4OTcxMUU1QkYyMUJDMjA5OTc5MzNBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pts1QfoAAABvUExURa+qLrGnFWmGJ7G0RuLVWcawIOrr7hZGhYzNAE5nboOXK5GSGC1SfYuMUhNgM26YRUdzJ5q0BpikNNbCOKWdF7W2uJLCA4mrV05slLjBWsW4QKyoVpeWXgg9iqLDDJ6OLTp+QQ9Agp+dVXB9Y3WFlH39sEkAAAIRSURBVHjabJPbmqsgDIVDKLUGRQ6pVqyth3n/Z5zgnpl25tu5UflxJYQVuPyKPoT+1wK8sYdSyhil3rf88F6xRQnyaJkff3gfGK1PkGlcpkFHy/0775W1NpHWOuquG0/dAhxe/MA5p6Tbtt2S4JMmFb55r1BBTKltmvrj1jR7FiFNh0LhynrMaWrWuX5ez81aVfccM1jVH/xh0eR0r2R9Xc/nmzznPUcgqw6uLES9FVzNt/P5Y66ODaCKAFx6xqhzUa1WwddreV2riQ1REB4s5LQXfP2ORgRq+V8SwIVLdllZ901iuk/b1BatbEsCkMORZJc/NkTvPDpvuPCWrDUBgnI+7oXf8WR8Mos2T/ms6uiXGODBDr+4J1xAZ/bP5uDu4Aqn8Ys755aTcW47ODBDgN74biwFza1HdENS4LejXEKU/HL8YdTNF18SYsLC58lyZ3qQ9ukh1aVlCNSBQ7OU4zTZGsPCAw8nrUWwZrcQoXNDW6qJDKCO/mM35l26zl44kBtruUnNrGPp7yWoYRhTPa+18Y5IqhWcrdzacT/FHuMoVzDPtUK3jPfqwATFQcUfDxXFeHGq5+bJep+bu2ADP/6REqPwmKe9bvd9yuJlqY1f/hV3U4SIBACE1thFcP/m/6DEJWSYZTYsMuA/977mRwZEAhdLliiqb/w2f71oSFZpGofwv/mULTK+fwb4U4ABAJVBMWXeqQbEAAAAAElFTkSuQmCC" >      <h1>ENERGY.GOV</h1>
    </div>
    <div id="H2"></div>
    <div id="middle">
      <div id="W">
        <h1>Howdy fellow energy adventurer!</h1>
        <p>Energy.gov is currently undergoing routine maintenance that will make it even more awesome. Please try again in a few minutes. We apologize for the inconvenience.</p>
        <div id="vid">
          <p>In the meantime, enjoy one of our favorite energy.gov videos!</p>                
        </div>
      </div>
      <div id="vid2">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/trJ-RoT8-eU" frameborder="0" allowfullscreen></iframe>
        <p>See more <a href="https://www.youtube.com/channel/UC7EGgnYFEIOaAa47ZBpninw">here</a>!</p>
      </div>
    </div>
    <div id="F">      
      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA2CAMAAAC/bkrSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RUMyNjdFOTUzODdDMTFFNUJGMjFCQzIwOTk3OTMzQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RUMyNjdFOTYzODdDMTFFNUJGMjFCQzIwOTk3OTMzQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFQzI2N0U5MzM4N0MxMUU1QkYyMUJDMjA5OTc5MzNBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFQzI2N0U5NDM4N0MxMUU1QkYyMUJDMjA5OTc5MzNBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrjqjU4AAABdUExUReny13ivAsPcj4zNAKXQSLrVgJXHK4C6A8Xih4q5JtXnr53GRd3qv5a9Q7bWcKbHYITCAMzhn7PaX4jAEPf679Hon9/vv63QYLDKdo/JELzfcLHQcP///4jHAJXQF4wzQUwAAAUhSURBVHjajJaLlqsqDIYDBQIBFQSlrej7P+YOvc+emX0Oq6tdVT4CIfkTOP08FI/LL+9O8P3RbHnMDPXfq/kfkLKLisaMRkqtPaLhJY5/Q/M6x0zrqloIW5DVwFKN+YZ9QmqZ0ZSsAUSCJsIgKPkioWZrL79A1uYRxlZ9O4fgi4NNkJ8AEqAxZPYfoIOUX6k1AA9p8k4IFGgkEdsVlrKc92/QsRgFRaSQkvMyQAjrugKNzichTGFrdYl/QcdykeApSDlIkF7wQB5mhOCFgbWcpaopfoHYzpJgcjBomPr8eFHKxBgRXQpKpTQ1raqOnxAZVAWA+uEFxmigFamufIo9ogHtiAIFP6r9DVmlcjRNT+AY4Re2FBJCxduciDI4X5IrJt192KHDYmmk5cR+wtvTCwo5oL1DbK0Cyq0xS7dHHaI8pkJUXwyvHrVGm59eZsoVDWGoNd4hNY+y0NkxE193ccwalXo5OY7Jg5+KT31ZhpZceA3fz/NmrrPJl+t7kUheQ9Pkuyk4qauqWwlafzCn66GMvc7q/eQCLvDJRT8VnGwG2mAA9tvdyHGoKwdP0IlGc7wC3OoKifxoYocMwAR6Eo8DqHUpQE23EkqANh8vU4JPQSjjDmr2nAfs7efm1JISBA4m4A8R+ac3bKVtSoZdAVdDvOKQnobW9vd4Bo9JDpKWOkewEbwgzuwnxC7R+ny+ffEoTT/2sIPQsknvGVIALQX33N2qxaQ5m4Qfeqyn1s7i8YrcSgHcGGFBFM7Dc3cM+dICRgKp4oWz8g3ZnppeaLaEihDDB7S1VoSiUrYMrU1vaB7R8FzbIWMxrh+QIBgExw2cOUEm0fQTUhYPmy8Lgs1XG+KKHxD2wDXKM8P7+QKp68rfYMdVS/MF4ozlaaawt4XY39A8jgWk0R1SnkXxc3tH2ffTwQw4F09vyKosIbkO5bEqFT4tqcb/DmhwbkUdb4iMrIJdjuzyWilp/wUSeKIGYmqNzBsCTDmH2+UaVlU9pNflSqHAoe33g01+OEKR46u+hZGZDeuQg3cYCVuG7gWO+2US+QXZeWyFBomRU0NJ77SsTwjEApxrzOC+sNk2PCDIsrJe3aGsZGG5f+xvaQPfU23TIKNSPtv2SJqr9QQ6TYZT48RyGzwL2Hg3NTcOKQNq4zxkjc0lsVd6QkMOUNJArD5w2imz9rIpd5e80nxcjQDfCnvHNne/QpoVJzgMFXu6n+bKCqZZou4yZ1mRDSJQCGcxs/9uu5spgxw2TlbswnLaFzcKB/VRFfbAIYe78n5wtXUx7AzkVMoEvhu6KSxHE8s/+ZRypzghitlZ+XH8YGT36N3QDdqt50IjwW1wE/gcWhvjfulBcZt0hWxqS2KTDuOzauyrC3pqwSmovbyg5vhR0OOBmWO1WTaOAFmreBUAdhk52aazxpzWrqrRcc5yKvKcYwGFydQAZ4413D/Kp1kdycZFyLvE4cgH2jiX8DITzKgQStXJyacIP6DdcN1yrsgSKtYEK2nN5Xq1BnUgrq0tbS/mVd33zCUUuAwF1j3TBcp7zDkT9HDW29ALRPy7j9ijtCZsrjniaXy1ktsDPUrkXBTek38znx1LVPwm0RTKILVnggVBgeAKzUmQEfcfe6OdT6M8x9MQJhGS37gscDMmuJQhxv2XLmyPsUrpuGXZHO9xY4DzJpneWPyj32NfZ+b0xpE3eJ2kVNy4xE8zP3WW+71P8X1kvBP7f7ejp72Dz/GN+AV6ovtvr/4IMAApMmWNHXAIGwAAAABJRU5ErkJggg==" >
      <h2>U.S. DEPARTMENT OF</h2>
      <h1>ENERGY</h1>
    </div>
    <div id="F2">      
      <h2>1000 Independence Ave. SW<br>Washington DC 20585<br>202-586-5000</h2>      
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
  <script>
var width = parseInt(d3.select("#middle").style("width"));
var height = parseInt(d3.select("#middle").style("height"));

var sampler = poissonDiscSampler(width, height, 30),
    samples = [],
    sample;

while (sample = sampler()) samples.push(sample);

var voronoi = d3.geom.voronoi()
    .clipExtent([[-1, -1], [width + 1, height + 1]]);

var svg = d3.select("#middle").append("svg")
    .attr("width", width)
    .attr("height", height);

svg.selectAll("path")
    .data(voronoi(samples))
  .enter().append("path")
    .attr("d", function(d) { return "M" + d.join("L") + "Z"; })
    .style("fill", "#fff")
    .style("stroke", "#fff");

function changer(d,o) {
  // console.log(d.point)
  var colorado;
  if (o%4 == 0) {        
        colorado = color(d.point);
  } else if (o%4 == 1) {
    colorado = "#fff";
  } else if (o%4 == 2) {
    var q = []
    q[0] = 1000-d.point[0]
    q[1] = 1000-d.point[1]
    colorado = color(q)
  } else if (o==100){
    colorado = "hsl(" + (Math.random() * 360) + ",100%,50%)"; 
  } else {
    colorado = color(d.point);
  };  
  return colorado   
}


var o = 0;
clk();
function clk() {
  
  o+=1;
  svg.selectAll("path")
    .transition()
    .duration(3000)
    .delay(function(d,i){
      return i;
    })
    .attr("d", function(d) { return "M" + d.join("L") + "Z"; })
    .style("fill", function(d) { 
      var colorado = changer(d,o);
      return colorado
    })
    .style("stroke", function(d) { 
      var colorado = changer(d,o);

      return colorado
    })
    .each("end",function(d,i){
      if ((i)==580) {
        console.log("d")
        clk()}
    });
    
}

function color(d) {
  var dx = d[0] - width / 2,
      dy = d[1] - height / 2;
  return d3.lab(100 - (dx * dx + dy * dy) / 5000, dx / 10, dy / 10);
}

// Based on https://www.jasondavies.com/poisson-disc/
function poissonDiscSampler(width, height, radius) {
  var k = 30, // maximum number of samples before rejection
      radius2 = radius * radius,
      R = 3 * radius2,
      cellSize = radius * Math.SQRT1_2,
      gridWidth = Math.ceil(width / cellSize),
      gridHeight = Math.ceil(height / cellSize),
      grid = new Array(gridWidth * gridHeight),
      queue = [],
      queueSize = 0,
      sampleSize = 0;

  return function() {
    if (!sampleSize) return sample(Math.random() * width, Math.random() * height);

    // Pick a random existing sample and remove it from the queue.
    while (queueSize) {
      var i = Math.random() * queueSize | 0,
          s = queue[i];

      // Make a new candidate between [radius, 2 * radius] from the existing sample.
      for (var j = 0; j < k; ++j) {
        var a = 2 * Math.PI * Math.random(),
            r = Math.sqrt(Math.random() * R + radius2),
            x = s[0] + r * Math.cos(a),
            y = s[1] + r * Math.sin(a);

        // Reject candidates that are outside the allowed extent,
        // or closer than 2 * radius to any existing sample.
        if (0 <= x && x < width && 0 <= y && y < height && far(x, y)) return sample(x, y);
      }

      queue[i] = queue[--queueSize];
      queue.length = queueSize;
    }
  };

  function far(x, y) {
    var i = x / cellSize | 0,
        j = y / cellSize | 0,
        i0 = Math.max(i - 2, 0),
        j0 = Math.max(j - 2, 0),
        i1 = Math.min(i + 3, gridWidth),
        j1 = Math.min(j + 3, gridHeight);

    for (j = j0; j < j1; ++j) {
      var o = j * gridWidth;
      for (i = i0; i < i1; ++i) {
        if (s = grid[o + i]) {
          var s,
              dx = s[0] - x,
              dy = s[1] - y;
          if (dx * dx + dy * dy < radius2) return false;
        }
      }
    }

    return true;
  }

  function sample(x, y) {
    var s = [x, y];
    queue.push(s);
    grid[gridWidth * (y / cellSize | 0) + (x / cellSize | 0)] = s;
    ++sampleSize;
    ++queueSize;
    return s;
  }
}

</script>
</body>
</html>